---
layout: post
title: "YOUTUBE IFRAME API로 유튜브영상 제어하기"
subtitle: 
cover-img: /assets/img/path.jpg
thumbnail-img: /assets/img/thumb.png
share-img: /assets/img/path.jpg
tags: [javascript, css, youtube]
---
<div class="entry-content">
    <p>유튜브영상을 프로젝트에 삽입시킬때 제어를 해야하는 경우가 있다. 슬라이드에 유튜브영상을 넣어서 재생중일때는 자동슬라이드를 막는다던가.. 재생중일때 슬라이드 시키면 재생을 멈춘다던가 하는 작업을 해야될때 참고해둘만 하다.</p>
    <p><span id="more-1058"></span></p>
    <p>javascript api 등 다른 방법들도 있다. 관련 api내용은 구글개발자페이지(<a href="https://developers.google.com/youtube/iframe_api_reference?hl=ko" target="_blank" title="새창">https://developers.google.com/youtube/iframe_api_reference?hl=ko</a>)에 나와있다</p>
    <hr>
    <h2>iframe api로 동영상 로드</h2>
    <pre class="html cH_kip"><ol><li class="odd"><span><b class="group">&lt;</b><a href="http://tranbot.net/html5/grouping-content.html#the-div-element" class="group">div</a> id="player_id"<b class="group">&gt;</b><b class="group">&lt;/div</b><b class="group">&gt;</b></span></li><li class="even"><span><b class="meta">&lt;</b><a href="http://tranbot.net/html5/scripting-1.html#script" class="meta">script</a> type="text/javascript"<b class="meta">&gt;</b></span></li><li class="odd"><span>  <b class="comment">// youtube start</b></span></li><li class="even"><span>  <b class="js">var</b> tag = document.createElement(<b class="jsString">'script'</b>);</span></li><li class="odd fifth"><span></span></li><li class="even"><span>  tag.src = <b class="jsString">"https://www.youtube.com/iframe_api"</b>;</span></li><li class="odd"><span>  <b class="js">var</b> firstScriptTag = document.getElementsByTagName(<b class="jsString">'script'</b>)[0];</span></li><li class="even"><span>  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);</span></li><li class="odd"><span></span></li><li class="even fifth"><span>  <b class="js">var</b> player;</span></li><li class="odd"><span>  <b class="js">function</b> onYouTubeIframeAPIReady() {</span></li><li class="even"><span>	player = <b class="js">new</b> YT.Player(<b class="jsString">'player_id'</b>, {</span></li><li class="odd"><span>	  height: <b class="jsString">'307'</b>,</span></li><li class="even"><span>	  width: <b class="jsString">'561'</b>,</span></li><li class="odd fifth"><span>	  videoId: <b class="jsString">'6lNKrFeARzc'</b>,</span></li><li class="even"><span>	  events: {</span></li><li class="odd"><span>		<b class="jsString">'onStateChange'</b>: onPlayerStateChange</span></li><li class="even"><span>	  }</span></li><li class="odd"><span>	});</span></li><li class="even fifth"><span></span></li><li class="odd"><span>  }</span></li><li class="even"><span>  </span></li><li class="odd"><span><b class="js">function</b> onPlayerStateChange(event) { <b class="comment">//동영상상태가 변할때 호출됨</b></span></li><li class="even"><span>	<b class="js">if</b>(event.data == 0){</span></li><li class="odd fifth"><span>		alert(<b class="jsString">'끝'</b>);</span></li><li class="even"><span>		<b class="comment">//event.data == -1 시작되지않음</b></span></li><li class="odd"><span>		<b class="comment">//event.data == 0영상이 끝났을때</b></span></li><li class="even"><span>		<b class="comment">//event.data == 1 재생중</b></span></li><li class="odd"><span>		<b class="comment">//event.data == 2 일시중지</b></span></li><li class="even fifth"><span>		<b class="comment">//event.data == 3 버퍼링</b></span></li><li class="odd"><span>		<b class="comment">//event.data == 5 동영싱신호</b></span></li><li class="even"><span></span></li><li class="odd"><span>	}</span></li><li class="even"><span>}</span></li><li class="odd fifth"><span>player.playVideo(); <b class="comment">//실행</b></span></li><li class="even"><span><b class="comment">// player.pauseVideo() //일시중지</b></span></li><li class="odd"><span><b class="comment">// player.stopVideo() //멈춤</b></span></li><li class="even"><span><b class="comment">// player.clearVideo() // 동영상지우기</b></span></li><li class="odd"><span><b class="comment">// player.mute() //음소거</b></span></li><li class="even fifth"><span><b class="comment">// player.unMute() //음소거해제</b></span></li><li class="odd"><span><b class="comment">// player.isMuted() //음소거 상태반환</b></span></li><li class="even"><span><b class="comment">// player.setSize(width,height) // 아이프레임의 크기를 픽셀단위로 설정</b></span></li><li class="odd"><span><b class="meta">&lt;/script</b><b class="meta">&gt;</b></span></li></ol></pre>
    <iframe id="player_id" frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="561" height="307" src="https://www.youtube.com/embed/6lNKrFeARzc?enablejsapi=1&amp;origin=http%3A%2F%2Fkyouyoum.cafe24.com&amp;widgetid=1"></iframe>
    <p><script type="text/javascript">
    // youtube start
    var tag = document.createElement('script');tag.src = "https://www.youtube.com/iframe_api";var firstScriptTag = document.getElementsByTagName('script')[0];firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);var player;
    function onYouTubeIframeAPIReady() {player = new YT.Player('player_id', {height: '307',width: '561',videoId: '6lNKrFeARzc',events: {'onStateChange': onPlayerStateChange}});}
    function onPlayerStateChange(event) {if(event.data == 0){alert('끝');}}
    player.playVideo(); //실행
    </script></p>
</div>